(function(t,e){var r=e.documentElement;var n="Fluid_Color_Scheme";var a="--color-mode";var i="data-user-color-scheme";var o="data-default-color-scheme";var u="color-toggle-btn";var l="color-toggle-icon";function c(t,e){try{localStorage.setItem(t,e)}catch(t){}}function f(t){try{localStorage.removeItem(t)}catch(t){}}function s(t){try{return localStorage.getItem(t)}catch(t){return null}}function d(){var t=r.getAttribute(o);if(typeof t==="string"){return t.replace(/["'\s]/g,"")}return null}function g(){var t=getComputedStyle(r).getPropertyValue(a);if(typeof t==="string"){return t.replace(/["'\s]/g,"")}return null}function m(){r.setAttribute(i,h());f(n)}var v={dark:true,light:true};function h(){var t=d();if(v[t]){return t}t=g();if(v[t]){return t}var e=(new Date).getHours();if(e>=18||e>=0&&e<=6){return"dark"}return"light"}function y(t){var e=t||s(n)||h();if(e===h()){m()}else if(v[e]){r.setAttribute(i,e)}else{m();return}b(e);p(e)}var A={dark:"light",light:"dark"};function E(){var t=s(n);if(v[t]){t=A[t]}else if(t===null){var r=e.getElementById(l);if(r){t=r.getAttribute("data")}if(!r||!v[t]){t=A[g()]}}else{return}c(n,t);return t}function b(t){if(v[t]){var r="icon-dark";if(t){r="icon-"+A[t]}var n=e.getElementById(l);if(n){n.setAttribute("class","iconfont "+r);n.setAttribute("data",A[t])}else{Fluid.utils.waitElementLoaded(l,(function(){var n=e.getElementById(l);if(n){n.setAttribute("class","iconfont "+r);n.setAttribute("data",A[t])}}))}}}function p(r){if(t.REMARK42){t.REMARK42.changeTheme(r)}var n=e.querySelector("iframe");if(n){var a=t.UtterancesThemeLight;if(r==="dark"){a=t.UtterancesThemeDark}const e={type:"set-theme",theme:a};n.contentWindow.postMessage(e,"https://utteranc.es")}}y();Fluid.utils.waitElementLoaded(u,(function(){y();var t=e.getElementById(u);if(t){t.addEventListener("click",(()=>{y(E())}))}}))})(window,document);