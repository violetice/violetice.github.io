const website_id=CONFIG.web_analytics.umami.website_id;const request_url=`${CONFIG.web_analytics.umami.api_server}/api/websites/${website_id}/stats`;const start_time=new Date(CONFIG.web_analytics.umami.start_time).getTime();const end_time=(new Date).getTime();const token=CONFIG.web_analytics.umami.token;if(!website_id){throw new Error("Umami website_id is empty")}if(!request_url){throw new Error("Umami request_url is empty")}if(!start_time){throw new Error("Umami start_time is empty")}if(!token){throw new Error("Umami token is empty")}const params=new URLSearchParams({startAt:start_time,endAt:end_time});const request_header={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${token}`}};async function siteStats(){try{const e=await fetch(`${request_url}?${params}`,request_header);const t=await e.json();const i=t.visitors.value;const a=t.pageviews.value;let n=document.querySelector("#umami-site-pv-container");if(n){let e=document.querySelector("#umami-site-pv");if(e){e.textContent=a;n.style.display="inline"}}let r=document.querySelector("#umami-site-uv-container");if(r){let e=document.querySelector("#umami-site-uv");if(e){e.textContent=i;r.style.display="inline"}}}catch(e){console.error(e);return"-1"}}async function pageStats(e){try{const t=await fetch(`${request_url}?${params}&url=${e}`,request_header);const i=await t.json();const a=i.pageviews.value;let n=document.querySelector("#umami-page-views-container");if(n){let e=document.querySelector("#umami-page-views");if(e){e.textContent=a;n.style.display="inline"}}}catch(e){console.error(e);return"-1"}}siteStats();let viewCtn=document.querySelector("#umami-page-views-container");if(viewCtn){let e=window.location.pathname;let t=decodeURI(e.replace(/\/*(index.html)?$/,"/"));pageStats(t)}